---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  name: profiles.ipxe.cloud.alexandre.mahdhaoui.com
spec:
  group: ipxe.cloud.alexandre.mahdhaoui.com
  names:
    kind: Profile
    listKind: ProfileList
    plural: profiles
    singular: profile
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              IPXETemplate:
                type: string
              additionalContent:
                items:
                  properties:
                    exposed:
                      description: |-
                        Exposed when set to true will expose the content of the file to `/config/UUID`. The UUID is generated by the
                        operator.
                        When "Exposed", specifying `{{ .AdditionalContent.YOUR_CONFIG }}` in other additionalContents or in the ipxe
                        field will be templated as `https://your.ipxe-api.com/config/YOUR_CONFIG_UUID`.
                      type: boolean
                    inline:
                      description: Inline is used to directly template content from
                        the Custom Resource.
                      type: string
                    name:
                      description: Name is the name given to the AdditionalContent.
                        Name can be used to be templated into the IPXETemplate configuration.
                      type: string
                    objectRef:
                      description: |-
                        ObjectRef allow users to specify any reference to a resource holding the desired configuration.
                        Such resources can be ContentMap, Secrets or any other kind of (custom) resources.
                      properties:
                        apiGroup:
                          description: |-
                            APIGroup is the group for the resource being referenced.
                            If APIGroup is not specified, the specified Kind must be in the core API group.
                            For any other third-party types, APIGroup is required.
                          type: string
                        kind:
                          description: Kind is the type of resource being referenced
                          type: string
                        name:
                          description: Name is the name of resource being referenced
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of resource being referenced
                            Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                            (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                          type: string
                        path:
                          description: Path to the desired content in the resource.
                            E.g. `.data."private.key"`
                          type: string
                      required:
                      - kind
                      - name
                      - path
                      type: object
                    postTransformations:
                      description: PostTransformations is a list of Transformers
                      items:
                        properties:
                          butaneToIgnition:
                            description: ButaneToIgnition transforms a butane yaml
                              document into a proper ignition one.
                            type: boolean
                          webhook:
                            description: Webhook allows users to specify a webhook
                              configuration to a post transformation.
                            properties:
                              basicAuthRef:
                                properties:
                                  apiGroup:
                                    description: |-
                                      APIGroup is the group for the resource being referenced.
                                      If APIGroup is not specified, the specified Kind must be in the core API group.
                                      For any other third-party types, APIGroup is required.
                                    type: string
                                  kind:
                                    description: Kind is the type of resource being
                                      referenced
                                    type: string
                                  name:
                                    description: Name is the name of resource being
                                      referenced
                                    type: string
                                  namespace:
                                    description: |-
                                      Namespace is the namespace of resource being referenced
                                      Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                      (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                    type: string
                                  passwordPath:
                                    type: string
                                  usernamePath:
                                    type: string
                                required:
                                - kind
                                - name
                                - passwordPath
                                - usernamePath
                                type: object
                              mTLSRef:
                                properties:
                                  apiGroup:
                                    description: |-
                                      APIGroup is the group for the resource being referenced.
                                      If APIGroup is not specified, the specified Kind must be in the core API group.
                                      For any other third-party types, APIGroup is required.
                                    type: string
                                  caBundlePath:
                                    type: string
                                  clientCertPath:
                                    type: string
                                  clientKeyPath:
                                    type: string
                                  kind:
                                    description: Kind is the type of resource being
                                      referenced
                                    type: string
                                  name:
                                    description: Name is the name of resource being
                                      referenced
                                    type: string
                                  namespace:
                                    description: |-
                                      Namespace is the namespace of resource being referenced
                                      Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                      (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                    type: string
                                required:
                                - clientCertPath
                                - clientKeyPath
                                - kind
                                - name
                                type: object
                              url:
                                type: string
                            required:
                            - url
                            type: object
                        required:
                        - butaneToIgnition
                        type: object
                      type: array
                    webhook:
                      description: |-
                        Webhook is a source type used to allow fetching configurations from any kind of sources, e.g. from an S3
                        bucket.
                      properties:
                        basicAuthRef:
                          properties:
                            apiGroup:
                              description: |-
                                APIGroup is the group for the resource being referenced.
                                If APIGroup is not specified, the specified Kind must be in the core API group.
                                For any other third-party types, APIGroup is required.
                              type: string
                            kind:
                              description: Kind is the type of resource being referenced
                              type: string
                            name:
                              description: Name is the name of resource being referenced
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of resource being referenced
                                Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                              type: string
                            passwordPath:
                              type: string
                            usernamePath:
                              type: string
                          required:
                          - kind
                          - name
                          - passwordPath
                          - usernamePath
                          type: object
                        mTLSRef:
                          properties:
                            apiGroup:
                              description: |-
                                APIGroup is the group for the resource being referenced.
                                If APIGroup is not specified, the specified Kind must be in the core API group.
                                For any other third-party types, APIGroup is required.
                              type: string
                            caBundlePath:
                              type: string
                            clientCertPath:
                              type: string
                            clientKeyPath:
                              type: string
                            kind:
                              description: Kind is the type of resource being referenced
                              type: string
                            name:
                              description: Name is the name of resource being referenced
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of resource being referenced
                                Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                              type: string
                          required:
                          - clientCertPath
                          - clientKeyPath
                          - kind
                          - name
                          type: object
                        url:
                          type: string
                      required:
                      - url
                      type: object
                  required:
                  - name
                  - postTransformations
                  type: object
                type: array
            required:
            - IPXETemplate
            type: object
          status:
            properties:
              exposedAdditionalContent:
                additionalProperties:
                  type: string
                type: object
            required:
            - exposedAdditionalContent
            type: object
        type: object
    served: true
    storage: true
